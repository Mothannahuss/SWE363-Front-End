{% extends "base2.njk" %}

{% block title %}
<title>browse</title>
{% endblock %}

{% block styles %}
    <link href="/src/css/style.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/src/css/abdullah_style.css" type="text/css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />    
{% endblock %}

{% block scripts %}
    <script src="/src/js/search-header.js"></script>
    <script src="/src/js/follow-btn.js"></script>
    <script src="/src/js/menu.js"></script>
    <script src="/src/js/frontendJS.js"></script>
{% endblock %}

{% block pageName %}
<h1>Browse Clubs</h1>
{% endblock %}

{% block tapnav %}
{% endblock %}

{% block content %}
<div id="events-cont">
  <div class="selection-container" id="categories">
      <select class="form-select" aria-label="Default select example" id="categories">
        <option selected>All</option>
        <option value="Debate and Speech">Debate and Speech</option>
        <option value="Film and Photography">Film and Photography</option>
        <option value="Gaming">Gaming</option>
        <option value="Literature">Literature</option>
        <option value="Religious">Religious</option>
        <option value="Sports">Sports</option>
        <option value="Mechanical Engineering">Mechanical Engineering</option>
        <option value="Chemical Engineering">Chemical Engineering</option>
        <option value="Industrial Engineering">Industrial Engineering</option>
        <option value="Electrical Engineering">Electrical Engineering</option>
        <option value="Architecture">Architecture</option>
        <option value="Computer">Computer</option>
        <option value="Business">Business</option>
        <option value="Mathematics">Mathematics</option>
        <option value="Petroleum Engineering">Petroleum Engineering</option>
        <option value="Visitation">Visitation</option>
        <option value="Consulting">Consulting</option>
      </select>
  </div>
     {% for club in clubs %}
    <div class="club-card">
      <div class="event-avatar"></div>
      <div class="club-detail">
        <h2><a href="/">{{club.name}}</a></h2>
        <p>{{club.bio}}</p>
      </div>
      {% if club.name in followed_clubs %}
        <form action="/follow" method="post">
        <input hidden name="club_name" value="{{ club.name }}"/>
        <input hidden name="userId" value="{{ id }}"/>
        <input hidden name="toggle" value="1"/>
        <button class="btn btn-outline-primary follow-btn">Unfollow</button>
        </form>
      {% else %}
        <form action="/follow" method="post">
        <input hidden name="club_name" value="{{ club.name }}"/>
        <input hidden name="userId" value="{{ id }}"/>
        <input hidden name="toggle" value="0"/>
        <button class="btn btn-outline-primary follow-btn">Follow</button>
        </form>
      {% endif %}
        </div>

    {% endfor %}
    <script>
    var followed = {{followed_clubs | dump | safe}}
    </script>
{% endblock %}

